<link rel="import" href="../bower_components/paper-input/paper-input.html">

<dom-module id="th-list-filter">
  <template>
    <paper-input label="Name" value="{{raw.name}}"></paper-input>
  </template>
  <script>
    Polymer({
      is: 'th-list-filter',

      properties: {
        filter: {
          type: Object,
          notify: true,
          value: {}
        },

        raw: {
          type: Object,
          value: {}
        }
      },

      observers: [
        '_rawChanged(raw.*)'
      ],

      _rawChanged: function(changes) {
        this.debounce('filter-update', this._filterUpdate, 500);
      },

      _filterUpdate: function() {
        Object.keys(this.raw).forEach(function(field) {
          this.set('filter.' + field, this[field + 'Processor'](this.raw[field]));
        }, this)
      },

      nameProcessor: function(name) {
        return name + '*';
      }
    });
  </script>
</dom-module>