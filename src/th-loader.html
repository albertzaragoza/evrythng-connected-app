<link rel="import" href="loader-styles.html">

<dom-module id="th-loader">
  <template>
    <style include="loader-styles"></style>

    <container>
      <div id="loader" class="th-loader">
        <div class="loader-part loader-part-0"></div>
        <div class="loader-part loader-part-1"></div>
        <div class="loader-part loader-part-2"></div>
        <div class="loader-part loader-part-3"></div>
        <div class="loader-part loader-part-4"></div>
        <div class="loader-part loader-part-5"></div>
      </div>
    </container>
  </template>

  <script>
    Polymer({
      is: 'th-loader',

      classes: [
        'pin', 'wi-fi', 't-shirt', 'fridge', 'heart', 'bulb', 'gym'
      ],

      properties: {
        size: {
          type: String,
          observer: '_onSizeChanged'
        }
      },

      ready: function() {
        var cls = 0;
        var scope = this;
        var loader = this.getLoader();

        setInterval(function() {
          loader.classList.remove(scope.classes[cls]);
          cls = cls + 1 > scope.classes.length ? 0 : cls + 1;
          loader.classList.add(scope.classes[cls]);
        }, 1000);
      },

      getLoader: function() {
        return this.$.loader;
      },

      _onSizeChanged: function(size) {
        var loader = this.getLoader();

        loader.style.width = size;
        loader.style.height = size;
      }
    });
  </script>
</dom-module>